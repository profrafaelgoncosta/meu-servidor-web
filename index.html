<body>
    <div class="message-bar" id="messageBar"></div>
    <div class="container">
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
    </div>
    <div class="timer">Tempo do Jogador X: <span id="timerX">0</span> segundos</div>
    <div class="timer">Tempo do Jogador O: <span id="timerO">0</span> segundos</div>
    <div class="button-container">
        <button class="btn btn-ai" id="toggleAI">Máquina como Jogador Nº2: Desligado</button>
        <button class="btn btn-restart" id="restartGame">Recomeçar Jogo</button>
    </div>
    <style>
        .message-bar {
            width: 100%;
            padding: 10px;
            background-color: black;
            color: white;
            text-align: center;
            font-size: 1.2em;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }
    </style>
    <script>
        const messageBar = document.getElementById('messageBar');

        function showMessage(message) {
            messageBar.textContent = message;
            messageBar.style.display = 'block';
            setTimeout(() => {
                messageBar.style.display = 'none';
            }, 3000); // Mensagem desaparecerá após 3 segundos
        }

        function handleClick(e) {
            const cell = e.target;
            cell.innerHTML = `<span class="${currentPlayer}">${currentPlayer}</span>`;
            if (checkWin(currentPlayer)) {
                showMessage(currentPlayer + ' ganhou!');
                resetGame();
            } else if (isDraw()) {
                const playerXTime = parseInt(timerX.textContent);
                const playerOTime = parseInt(timerO.textContent);
                if (playerXTime < playerOTime) {
                    showMessage('Empate! Jogador X venceu pelo menor tempo!');
                } else if (playerOTime < playerXTime) {
                    showMessage('Empate! Jogador O venceu pelo menor tempo!');
                } else {
                    showMessage('Empate absoluto! Ninguém venceu.');
                }
                resetGame();
            } else {
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                startTimer();
                if (aiEnabled && currentPlayer === 'O') {
                    setTimeout(makeAIMove, 500);
                }
            }
        }
    </script>
</body>
